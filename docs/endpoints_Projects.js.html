

<!DOCTYPE html>
<html lang="en">

<head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> endpoints/Projects.js</title>

  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="./build/entry.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,400,700|Inconsolata,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
  <link type="text/css" rel="stylesheet" href="styles/app.min.css">
  <link type="text/css" rel="stylesheet" href="styles/iframe.css">
  <link type="text/css" rel="stylesheet" href="">
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  
</head>



<body class="layout small-header">
    <div id="stickyNavbarOverlay"></div>
    

<div class="top-nav">
    <div class="inner">
        <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <div class="logo">
            
            
        </div>
        <div class="menu">
            
            <div class="navigation">
                <a
                    href="index.html"
                    class="link"
                >
                    API Documentation
                </a>
                
                
                
            </div>
        </div>
    </div>
</div>
    <div id="main">
        <div
            class="sidebar "
            id="sidebarNav"
        >
            
            <nav>
                
                    <h2><a href="index.html">Documentation</a></h2><div class="category"><h3>Classes</h3><ul><li><a href="ProjectTasks_ProjectTasks.html">ProjectTasks</a></li></ul><h3><a href="global.html">Global</a></h3></div><div class="category"><h2>Endpoints</h2><h3>Classes</h3><ul><li><a href="Absences.html">Absences</a></li><li><a href="ApiUsers.html">ApiUsers</a></li><li><a href="Autopilots.html">Autopilots</a></li><li><a href="ClientApplications.html">ClientApplications</a></li><li><a href="Companies.html">Companies</a></li><li><a href="EntityComments.html">EntityComments</a></li><li><a href="EntityFiles.html">EntityFiles</a></li><li><a href="EntityImages.html">EntityImages</a></li><li><a href="EntityTimeEntries.html">EntityTimeEntries</a></li><li><a href="Files.html">Files</a></li><li><a href="FileVersions.html">FileVersions</a></li><li><a href="MeAssignedTasks.html">MeAssignedTasks</a></li><li><a href="MeDashboards.html">MeDashboards</a></li><li><a href="MeProjectTasks.html">MeProjectTasks</a></li><li><a href="MeTaskViews.html">MeTaskViews</a></li><li><a href="MeUserPrivateSubtasks.html">MeUserPrivateSubtasks</a></li><li><a href="MeUsers.html">MeUsers</a></li><li><a href="MeUsersPrivateTasks.html">MeUsersPrivateTasks</a></li><li><a href="ProjectActions.html">ProjectActions</a></li><li><a href="ProjectAutomations.html">ProjectAutomations</a></li><li><a href="ProjectMembers.html">ProjectMembers</a></li><li><a href="ProjectMilestones.html">ProjectMilestones</a></li><li><a href="ProjectProjectStatuses.html">ProjectProjectStatuses</a></li><li><a href="ProjectRoles.html">ProjectRoles</a></li><li><a href="Projects.html">Projects</a></li><li><a href="ProjectStatuses.html">ProjectStatuses</a></li><li><a href="ProjectSubtasks.html">ProjectSubtasks</a></li><li><a href="ProjectTaskStatuses.html">ProjectTaskStatuses</a></li><li><a href="ProjectTemplateActions.html">ProjectTemplateActions</a></li><li><a href="ProjectTemplateAutomations.html">ProjectTemplateAutomations</a></li><li><a href="ProjectTemplateProjectStatuses.html">ProjectTemplateProjectStatuses</a></li><li><a href="ProjectTemplates.html">ProjectTemplates</a></li><li><a href="ProjectTemplateTaskStatuses.html">ProjectTemplateTaskStatuses</a></li><li><a href="ProjectTypes.html">ProjectTypes</a></li><li><a href="SubTasks.html">SubTasks</a></li><li><a href="TaskBundles.html">TaskBundles</a></li><li><a href="TaskBundleTaskListTemplates.html">TaskBundleTaskListTemplates</a></li><li><a href="TaskBundleTaskListTemplatesTaskTemplates.html">TaskBundleTaskListTemplatesTaskTemplates</a></li><li><a href="TaskBundleTaskTemplates.html">TaskBundleTaskTemplates</a></li><li><a href="TaskDependencies.html">TaskDependencies</a></li><li><a href="global.html#TaskLists">TaskLists</a></li><li><a href="TaskListTasks.html">TaskListTasks</a></li><li><a href="TaskTemplates.html">TaskTemplates</a></li><li><a href="TaskTemplateSubTaskTemplates.html">TaskTemplateSubTaskTemplates</a></li><li><a href="TaskViews.html">TaskViews</a></li><li><a href="Teams.html">Teams</a></li><li><a href="TemporaryFiles.html">TemporaryFiles</a></li><li><a href="TimeEntries.html">TimeEntries</a></li><li><a href="TimeReports.html">TimeReports</a></li><li><a href="TimeTrackings.html">TimeTrackings</a></li><li><a href="TypesOfWorks.html">TypesOfWorks</a></li><li><a href="UserContactInfos.html">UserContactInfos</a></li><li><a href="UserOtherPrivateTasksSubtasks.html">UserOtherPrivateTasksSubtasks</a></li><li><a href="UserPrivateTasksSubtasks.html">UserPrivateTasksSubtasks</a></li><li><a href="Users.html">Users</a></li><li><a href="UsersAssignedTasks.html">UsersAssignedTasks</a></li><li><a href="UsersPrivateTasks.html">UsersPrivateTasks</a></li><li><a href="Webhooks.html">Webhooks</a></li></ul></div><div class="category"><h2>Models</h2><h3>Classes</h3><ul><li><a href="Absence.html">Absence</a></li><li><a href="Action.html">Action</a></li><li><a href="ApiUser.html">ApiUser</a></li><li><a href="Automation.html">Automation</a></li><li><a href="Autopilot.html">Autopilot</a></li><li><a href="ClientApplication.html">ClientApplication</a></li><li><a href="Comment.html">Comment</a></li><li><a href="Company.html">Company</a></li><li><a href="CompanyContactInfo.html">CompanyContactInfo</a></li><li><a href="Dashboard.html">Dashboard</a></li><li><a href="EntityFile.html">EntityFile</a></li><li><a href="EntityTimeEntry.html">EntityTimeEntry</a></li><li><a href="ExtendedUser.html">ExtendedUser</a></li><li><a href="FileVersion.html">FileVersion</a></li><li><a href="PrivateTasksTaskStatus.html">PrivateTasksTaskStatus</a></li><li><a href="Project.html">Project</a></li><li><a href="ProjectMember.html">ProjectMember</a></li><li><a href="ProjectMilestone.html">ProjectMilestone</a></li><li><a href="ProjectRole.html">ProjectRole</a></li><li><a href="ProjectStatus.html">ProjectStatus</a></li><li><a href="ProjectTemplate.html">ProjectTemplate</a></li><li><a href="ProjectType.html">ProjectType</a></li><li><a href="global.html#Recurrency">Recurrency</a></li><li><a href="SubTask.html">SubTask</a></li><li><a href="SubTaskTemplate.html">SubTaskTemplate</a></li><li><a href="Task.html">Task</a></li><li><a href="TaskBundle.html">TaskBundle</a></li><li><a href="TaskDependency.html">TaskDependency</a></li><li><a href="TaskListTemplate.html">TaskListTemplate</a></li><li><a href="TaskRecurrency.html">TaskRecurrency</a></li><li><a href="global.html#TaskStatus">TaskStatus</a></li><li><a href="TaskTemplate.html">TaskTemplate</a></li><li><a href="TaskView.html">TaskView</a></li><li><a href="Team.html">Team</a></li><li><a href="TimeEntry.html">TimeEntry</a></li><li><a href="TimeReport.html">TimeReport</a></li><li><a href="TypeOfWork.html">TypeOfWork</a></li><li><a href="User.html">User</a></li><li><a href="UserContactInfo.html">UserContactInfo</a></li><li><a href="Webhook.html">Webhook</a></li></ul></div><div class="category"><h2>Util</h2><h3>Classes</h3><ul><li><a href="Awork.html">Awork</a></li><li><a href="Client.html">Client</a></li></ul></div>
                
            </nav>
        </div>
        <div class="core" id="main-content-wrapper">
            <div class="content">
                <header class="page-title">
                    <p>Source</p>
                    <h1>endpoints/Projects.js</h1>
                </header>
                



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import '../globalTypedef'
import { Project } from "../model/Project"
import { ProjectMembers } from "./ProjectMembers"
import { EntityFiles } from "./EntityFiles"
import { ProjectProjectStatuses } from "./ProjectProjectStatuses"
import { TaskDependency } from '../model/TaskDependency'
import { Autopilots } from './Autopilots'
import { ProjectAutomations } from './ProjectAutomations'
import { ProjectMilestone } from '../model/ProjectMilestone'
import { EntityImages } from './EntityImages'
import { ProjectTasks } from './ProjectTasks'
import { ProjectSubtasks } from './ProjectSubtasks'


/**
 * Class corresponding to Aworks Projects Endpoints
 * @category Endpoints
 * @see [Projects in Awork API Docs](https://openapi.awork.io/#/Projects)
 */
export class Projects {

    /**
     * Endpoint constructor
     * @param {import('../client/index').Client} client 
     */
    constructor(client) {
        /**
         * @private
         */
        this._client = client
    }

    /**
     * Returns the project with the specified id if the user has 'read' permissions of feature 'project-master-data'.
     * @param {String} projectId The id of the project.
     * @returns {Promise&lt;Project>}
     */
    async get(projectId) {
        const response = await this._client.get(`/projects/${projectId}`)
        const data = response.data()
        return new Project(data)
    }

    /**
     * Returns all projects the user has 'read' permissions of feature 'project-master-data' for.
     * @param {ListOptions} [options] Pagination and filtering options
     * @returns {Promise&lt;Array&lt;Project>>}
     */
    async list(options) {
        const response = await this._client.get(`/projects`, options)
        const data = response.data()
        return data.map(d => new Project(d))
    }

    /**
     * @typedef {Object} ProjectCreateModel
     * @property {String} name The name of the Project
     * @property {String} [description] The project description.
     * @property {String} [startDate] The start date of the project.
     * @property {String} [dueDate] The due date of the project.
     * @property {String} [companyId] The id of the company.
     * @property {Number} [timeBudget] The time budget the project has in seconds.
     * @property {Boolean} [isBillableByDefault] Whether project times should be billable by default.
     * @property {String} [projectTypeId] The id of the project type of this project.
     * @property {String} [projectStatusId] The id of the project status.
     * @property {String} [projectTemplateId] The id of the template which is used to create the project.
     */

    /**
     * Creates a new project.
     * @param {ProjectCreateModel} project The project creation object
     * @returns {Promise&lt;Project>}
     */
    async create(project) {
        const response = await this._client.post(`/projects`, project)
        const data = response.data()
        return new Project(data)
    }

    /**
     * @typedef {Object} ProjectUpdateModel
     * @property {String} [name] The name of the Project
     * @property {String} [description] The project description.
     * @property {String} [startDate] The start date of the project.
     * @property {String} [dueDate] The due date of the project.
     * @property {String} [companyId] The id of the company.
     * @property {Number} [timeBudget] The time budget the project has in seconds.
     * @property {Boolean} [isBillableByDefault] Whether project times should be billable by default.
     */

    /**
     * Updates the project with the specified id.
     * The user can update a project if he is the owner or he needs 'write' permissions of the feature 'project-master-data'.
     * @param {String} projectId The id of the project.
     * @param {ProjectUpdateModel} project The project update object
     * @returns {Promise&lt;Project>}
     */
    async update(projectId, project) {
        const response = await this._client.put(`/projects/${projectId}`, project)
        const data = response.data()
        return new Project(data)
    }

    /**
     * @typedef {Object} DeleteProjectOptions
     * @property {Boolean} [deleteTimeTrackings] Set to true to delete also the related time trackings. If it is set to false the related time trackings are still there, but the project and task reference will be cleared. That will also happen if no request body is present.
     */    

    /**
     * Deletes the project with the specified id. In the default case the related tasks of this project will also be deleted and the related time trackings of this project and all tasks loose the relation to the deleted project and tasks. To delete the time trackings as well, it is necessary to set the 'DeleteTimeTrackings' property of the post model to true.
     * 
     * The user can delete a project if he is the owner or he needs 'write' permissions of the feature 'project-master-data
     * @param {String} projectId The id of the project.
     * @param {DeleteProjectOptions} [options]
     * @returns {Promise&lt;void>}
     */
    async delete(projectId, options = { deleteTimeTrackings: false }) {
        await this._client.post(`/projects/${projectId}/delete`, options)
    }

    /**
     * @typedef {Object} TaskBundleAddToProjectModel
     * @property {String} taskBundleId The id of the task bundle to add to the entity.
     * @property {String} projectTemplateId The id of the project template to get the task bundle from.
     * @property {String} defaultTaskListIdForEmails nullable
     */

    /**
     * Adds the task bundle to the project with the specified id.
     * @param {String} projectId The id of the project to add the task bundle.
     * @param {TaskBundleAddToProjectModel} taskBundelToBeAdded The model to add the task bundle to the project.
     * @returns {Promise&lt;void>}
     */
    async addTaskBundle (projectId, taskBundelToBeAdded) {
        await this._client.post(`/projects/${projectId}/addtaskbundle`, taskBundelToBeAdded)
    }

    /**
     * Returns all task dependencies for a specific project. To get all dependencies of a project, the user needs project planning permissions on that project.
     * @param {String} projectId The id of the project.
     * @returns {Promise&lt;Array&lt;TaskDependency>>}
     */
     async taskDependencyList (projectId) {
        const response = await this._client.get(`/projects/${projectId}/taskdependencies`)
        const data = response.data()
        return data.map(d => new TaskDependency(d))
      }

      /**
       * Returns all project milestones of the specified project. The user needs 'read' permissions of feature 'project-planning-data' to get the data.
       * @param {String} projectId The id of the project.
       * @returns {Promise&lt;Array&lt;ProjectMilestone>>}
       */
    async milestoneList (projectId) {
        const response = await this._client.get(`projects/${projectId}/milestones`)
        const data = response.data()
        return data.map(d => new ProjectMilestone(d))
    }

    /**
     * Returns the {@link ProjectMembers} Endpoint with the specified project Id.
     * @param {String} projectId The id of the project.
     * @returns {ProjectMembers}
     */
    members (projectId) {
        return new ProjectMembers(this._client, projectId)
    }

    /**
     * Returns the {@link EntityFiles} Endpoint with the specified project Id and entityType 'projects'.
     * @param {String} projectId The id of the project.
     * @returns {EntityFiles}
     */
    files (projectId) { //projects = entityName, projectId = entityId
        return new EntityFiles(this._client, 'projects', projectId)
    }

    /**
     * Returns the {@link ProjectProjectStatuses} Endpoint with the specified project Id.
     * @param {String} projectId The id of the project.
     * @returns {ProjectProjectStatus}
     */
    projectStatuses (projectId) {
        return new ProjectProjectStatuses(this._client, projectId)
    }

    /**
     * Returns the {@link Autopilots} Endpoint with the specified project Id.
     * @param {String} projectId The id of the project.
     * @returns {Autopilots}
     */
    autopilots (projectId) {
        return new Autopilots(this._client, projectId)
    }

    /**
     * Returns the {@link ProjectAutomations} Endpoint with the specified project Id.
     * @param {String} projectId The id of the project.
     * @returns {ProjectAutomations}
     */
    automations (projectId) {
        return new ProjectAutomations(this._client, projectId)
    }

    /**
     * Returns the {@link EntityImages} Endpoint with the specified project Id.
     * @param {String} projectId The id of the project.
     * @returns {EntityImages}
     */
    images (projectId) {
        return new EntityImages(this._client, 'projects', projectId)
    }

    /**
     * Returns the {@link ProjectTasks} Endpoint with the specified project Id.
     * @param {String} projectId The id of the project.
     * @returns {ProjectTasks}
     */
    tasks (projectId) {
        return new ProjectTasks(this._client, projectId)
    }

    /**
     * Returns the {@link ProjectsSubtasks} Endpoint with the specified project Id.
     * @param {String} projectId The id of the project.
     * @returns {ProjectsSubtasks}
     */
    projectSubtasks (projectId) {
        return new ProjectSubtasks(this._client, projectId)
    }
}</code></pre>
        </article>
    </section>




            </div>
            
            <footer class="footer">
                <div class="content has-text-centered">
                    <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a></p>
                    <p class="sidebar-created-by">
                        <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by 
                        <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
                    </p>
                </div>
            </footer>
            
        </div>
        <div id="side-nav" class="side-nav">
        </div>
    </div>
<script src="scripts/app.min.js"></script>
<script>PR.prettyPrint();</script>
<script src="scripts/linenumber.js"> </script>

</body>
</html>
