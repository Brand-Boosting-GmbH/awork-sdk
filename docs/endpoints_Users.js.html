

<!DOCTYPE html>
<html lang="en">

<head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> endpoints/Users.js</title>

  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="./build/entry.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,400,700|Inconsolata,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
  <link type="text/css" rel="stylesheet" href="styles/app.min.css">
  <link type="text/css" rel="stylesheet" href="styles/iframe.css">
  <link type="text/css" rel="stylesheet" href="">
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  
</head>



<body class="layout small-header">
    <div id="stickyNavbarOverlay"></div>
    

<div class="top-nav">
    <div class="inner">
        <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <div class="logo">
            
            
        </div>
        <div class="menu">
            
            <div class="navigation">
                <a
                    href="index.html"
                    class="link"
                >
                    API Documentation
                </a>
                
                
                
            </div>
        </div>
    </div>
</div>
    <div id="main">
        <div
            class="sidebar "
            id="sidebarNav"
        >
            
            <nav>
                
                    <h2><a href="index.html">Documentation</a></h2><div class="category"><h3><a href="global.html">Global</a></h3></div><div class="category"><h2>Endpoints</h2><h3>Classes</h3><ul><li><a href="Absences.html">Absences</a></li><li><a href="ClientApplications.html">ClientApplications</a></li><li><a href="Companies.html">Companies</a></li><li><a href="EntityFiles.html">EntityFiles</a></li><li><a href="FileVersions.html">FileVersions</a></li><li><a href="ProjectMembers.html">ProjectMembers</a></li><li><a href="ProjectProjectStatuses.html">ProjectProjectStatuses</a></li><li><a href="ProjectRoles.html">ProjectRoles</a></li><li><a href="Projects.html">Projects</a></li><li><a href="ProjectStatuses.html">ProjectStatuses</a></li><li><a href="ProjectTemplateProjectStatuses.html">ProjectTemplateProjectStatuses</a></li><li><a href="ProjectTemplates.html">ProjectTemplates</a></li><li><a href="ProjectTypes.html">ProjectTypes</a></li><li><a href="TaskBundles.html">TaskBundles</a></li><li><a href="TaskBundleTaskListTemplates.html">TaskBundleTaskListTemplates</a></li><li><a href="TaskBundleTaskListTemplatesTaskTemplates.html">TaskBundleTaskListTemplatesTaskTemplates</a></li><li><a href="TaskBundleTaskTemplates.html">TaskBundleTaskTemplates</a></li><li><a href="TaskDependencies.html">TaskDependencies</a></li><li><a href="TaskTemplates.html">TaskTemplates</a></li><li><a href="TaskTemplateSubTaskTemplates.html">TaskTemplateSubTaskTemplates</a></li><li><a href="Teams.html">Teams</a></li><li><a href="TemporaryFiles.html">TemporaryFiles</a></li><li><a href="TimeReports.html">TimeReports</a></li><li><a href="TypesOfWorks.html">TypesOfWorks</a></li><li><a href="UserContactInfos.html">UserContactInfos</a></li><li><a href="Users.html">Users</a></li></ul></div><div class="category"><h2>Models</h2><h3>Classes</h3><ul><li><a href="Absence.html">Absence</a></li><li><a href="ClientApplication.html">ClientApplication</a></li><li><a href="Company.html">Company</a></li><li><a href="CompanyContactInfo.html">CompanyContactInfo</a></li><li><a href="EntityFile.html">EntityFile</a></li><li><a href="ExtendedUser.html">ExtendedUser</a></li><li><a href="FileVersion.html">FileVersion</a></li><li><a href="Project.html">Project</a></li><li><a href="ProjectMember.html">ProjectMember</a></li><li><a href="ProjectRole.html">ProjectRole</a></li><li><a href="ProjectStatus.html">ProjectStatus</a></li><li><a href="ProjectTemplate.html">ProjectTemplate</a></li><li><a href="ProjectType.html">ProjectType</a></li><li><a href="global.html#Recurrency">Recurrency</a></li><li><a href="SubTaskTemplate.html">SubTaskTemplate</a></li><li><a href="Task.html">Task</a></li><li><a href="TaskBundle.html">TaskBundle</a></li><li><a href="TaskDependency.html">TaskDependency</a></li><li><a href="TaskListTemplate.html">TaskListTemplate</a></li><li><a href="TaskRecurrency.html">TaskRecurrency</a></li><li><a href="TaskTemplate.html">TaskTemplate</a></li><li><a href="Team.html">Team</a></li><li><a href="TimeReport.html">TimeReport</a></li><li><a href="TypeOfWork.html">TypeOfWork</a></li><li><a href="User.html">User</a></li><li><a href="UserContactInfo.html">UserContactInfo</a></li></ul></div><div class="category"><h2>Util</h2><h3>Classes</h3><ul><li><a href="Awork.html">Awork</a></li><li><a href="Client.html">Client</a></li></ul></div>
                
            </nav>
        </div>
        <div class="core" id="main-content-wrapper">
            <div class="content">
                <header class="page-title">
                    <p>Source</p>
                    <h1>endpoints/Users.js</h1>
                </header>
                



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import '../globalTypedef'
import { User } from "../model/User"
import { ExtendedUser } from "../model/ExtendedUser"

/**
 * Class corresponding to Aworks Users Endpoints
 * @category Endpoints
 * @see [Users in Awork API Docs](https://openapi.awork.io/#/Users)
 */
export class Users {
    /**
     * Endpoint constructor
     * @param {import('../client/index').Client} client 
     */
     constructor(client) {
        /**
         * @private
         */
        this._client = client
    }

    //  TODO/me !!!

    /**
     * Returns the user with the specified id.
     * @param {String} userId The id of the user.
     * @returns {Promise&lt;User>}
     */
    async get(userId) {
        const response = await this._client.get(`/users/${userId}`)
        const data = response.data()
        return new User(data)
    }

    /**
     * Returns all users with their details like status, contact info and more. Returns all users if the user has read permissions on the feature user-master-data, otherwise returns only his own user. Archived users are excluded by default. You can include them by setting the 'showArchived' query parameter. If the permissions have UserTeamsData Feature, the filter for teams is applied. Beware that this will also include API users in the response.
     * @param {ListOptions} [options] Pagination and filtering options
     * @param {Boolean} [showArchived] Include archived users in the results. Not required. False by default.
     * @returns {Promise&lt;Array&lt;User>>}
     */
    async list(options, showArchived = false) {
        const response = await this._client.get('/users', options, showArchived)
        const data = response.data()
        return data.map(d => new User(d))
    }

    /**
     * @typedef {Object} UserCreateModel
     * @property {String} [firstName] The firstname of the user.
     * @property {String} [lastName] The lastname of the user.
     * @property {String} [birthDate] The birthdate of the user.
     * @property {String} [gender] The gender of the user.
     * @property {String} [title] The title of the user.
     * @property {String} [position] The position of the user.
     * @property {String} [language] The language preference of the user in ISO 639-1 format.
     * @property {Integer} [capacityPerWeek] The capacity of the user per week in seconds.
     * @property {String} [accountId] The account id of the user.
     */

    /**
     * Creates a new user. The user's key is assigned automatically and can be changed later.
     * @param {UserCreateModel} userCreateModel The model to create a user.
     * @returns {Promise&lt;User>}
     */
    async create(userCreateModel) {
        const response = await this._client.post('/users', userCreateModel)
        const data = response.data()
        return new User(data)
    }

    /**
     * @typedef {Object} UserUpdateModel
     * @property {String} [firstName] The firstname of the user.
     * @property {String} [lastName] The lastname of the user.
     * @property {String} [birthDate] The birthdate of the user.
     * @property {String} [gender] The gender of the user.
     * @property {String} [title] The title of the user.
     * @property {String} [position] The position of the user.
     * @property {String} [language] The language preference of the user in ISO 639-1 format.
     * @property {Integer} [capacityPerWeek] The capacity of the user per week in seconds.
     */

    /**
     * Updates the user with the specified id.
     * @param {String} userId The id of the user.
     * @param {UserUpdateModel} userUpdateModel The model to update a user.
     * @returns {Promise&lt;User>}
     */
    async update(userId, userUpdateModel) {
        const response = await this._client.put(`/users/${userId}`, userUpdateModel)
        const data = response.data()
        return new User(data)
    }

    /**
     * Deletes the user with the specified id.
     * @param {String} userId The id of the user.
     * @returns {Promise&lt;void>}
     */
    async delete(userId) {
        await this._client.delete(`/users/${userId}`)
    }

    //  TODO/me !!!

    /**
     * Deactivates the user with the specified id. A deactivated user can no longer sign in. It is only possible if the user is not the last admin user.
     * @param {String} userId The id of the user.
     * @returns {Promise&lt;void>}
     */
    async deactivate(userId) {
        await this._client.post(`/users/${userId}/deactivate`)
    }

    /**
     * Activates the user with the specified id. The user is then allowed to sign in again and will be notified via email.
     * @param {String} userId The id of the user.
     * @returns {Promise&lt;void>}
     */
    async activate(userId) {
        await this._client.post(`/users/${userId}/activate`)
    }

    /**
     * Archives or unarchives the user with the specified id. Archived objects can not be used any longer but still exist for being referenced by other entities.
     * @param {String} userId The id of the user which will be changed.
     * @param {Boolean} isArchived Flags the entity as archived.
     * @returns 
     */
    async setArchived(userId, isArchived) {
        const response = await this._client.post(`/users/${userId}/setarchived`, {isArchived: isArchived})
        const data = response.data()
        return new ExtendedUser(data)
    }

    /**
     * Checks whether the specified user key is valid and unique.
     * @returns {Promise&lt;String>}
     */
    async isKeyValid() {
        const response = await this._client.post('/users/iskeyvalid')
        return response.data().key
    }

    /**
     * Sets the user key of the user with the specified id.
     * @param {String} userId The id of the user.
     * @returns {Promise&lt;>} 
     */
    async setkey(userId) {
        const response = await this._client.post(`/users/${userId}/setkey`)
        return response.data().key
    }

    /**
     * Returns the contact infos of the user with the specified id.
     * @param {String} userId The id of the user.
     * @returns 
     */
    contactInfo(userId) {
        return new UserContactInfos(this._client, userId)
    }
}</code></pre>
        </article>
    </section>




            </div>
            
            <footer class="footer">
                <div class="content has-text-centered">
                    <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a></p>
                    <p class="sidebar-created-by">
                        <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by 
                        <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
                    </p>
                </div>
            </footer>
            
        </div>
        <div id="side-nav" class="side-nav">
        </div>
    </div>
<script src="scripts/app.min.js"></script>
<script>PR.prettyPrint();</script>
<script src="scripts/linenumber.js"> </script>

</body>
</html>
